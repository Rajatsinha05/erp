# =============================================
# FACTORY ERP SERVER ENVIRONMENT CONFIGURATION
# =============================================

# Application Configuration
NODE_ENV=development
PORT=4000
HOST=localhost
APP_NAME=Factory ERP Server
APP_VERSION=2.0.0
API_PREFIX=/api/v1
API_VERSION=v1
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# Server Configuration
SERVER_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000
MAX_CONNECTIONS=1000
CLUSTER_WORKERS=0

# Database Configuration
MONGODB_URI=mongodb+srv://rajatsinha5467:6hCluJxiCcndni9V@erp.h5jya9a.mongodb.net/erp?retryWrites=true&w=majority&appName=erp
MONGODB_URI_TEST=mongodb://localhost:27017/factory_erp_test
MONGODB_URI_REPLICA=mongodb://localhost:27017,localhost:27018,localhost:27019/factory_erp?replicaSet=rs0
DB_MAX_POOL_SIZE=20
DB_MIN_POOL_SIZE=5
DB_MAX_IDLE_TIME=30000
DB_SERVER_SELECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000
DB_CONNECT_TIMEOUT=10000
DB_HEARTBEAT_FREQUENCY=10000
DB_MAX_STALENESS_SECONDS=90

# JWT Configuration
JWT_SECRET=erp-jwt-secret-2024-super-secure-key-for-factory-management-system-v2
JWT_REFRESH_SECRET=erp-refresh-secret-2024-ultra-secure-key-for-token-refresh-system
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d
JWT_ISSUER=factory-erp
JWT_AUDIENCE=factory-erp-users

# Session Configuration
SESSION_SECRET=erp-session-secret-2024-mega-secure-key-for-user-sessions-management
SESSION_NAME=factory-erp-session
SESSION_MAX_AGE=86400000

# Cookie Configuration
COOKIE_SECRET=erp-cookie-secret-2024-hyper-secure-key-for-cookie-encryption-system
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:5173
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Security Configuration
BCRYPT_SALT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=15
LOCKOUT_TIME=1800000
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv
UPLOAD_DESTINATION=uploads/

# Contabo S3 Configuration (for file storage)
AWS_ACCESS_KEY_ID=your-contabo-access-key
AWS_SECRET_ACCESS_KEY=your-contabo-secret-key
AWS_REGION=eu-central-1
AWS_S3_BUCKET=erp-files-bucket
AWS_S3_ACL=private
CONTABO_S3_ENDPOINT=https://eu2.contabostorage.com

# Email Configuration (Nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@factoryerp.com
EMAIL_FROM_NAME=Factory ERP System

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Redis Configuration (for caching and sessions)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=factory-erp:

# Logging Configuration (Lightweight for development)
LOG_LEVEL=info
LOG_FILE=
LOG_MAX_SIZE=5m
LOG_MAX_FILES=3
LOG_DATE_PATTERN=YYYY-MM-DD
ENABLE_REQUEST_LOGGING=false
ENABLE_ERROR_LOGGING=true
ENABLE_PERFORMANCE_LOGGING=false
ENABLE_SECURITY_LOGGING=false
ENABLE_AUDIT_LOGGING=false
ENABLE_BUSINESS_LOGGING=false

# Morgan HTTP Logging
MORGAN_FORMAT=combined
MORGAN_SKIP_HEALTH_CHECKS=true
MORGAN_SKIP_STATIC_FILES=true

# Winston Advanced Configuration
WINSTON_CONSOLE_LEVEL=debug
WINSTON_FILE_LEVEL=info
WINSTON_ERROR_LEVEL=error
WINSTON_COLORIZE=true
WINSTON_TIMESTAMP=true
WINSTON_PRETTYPRINT=true

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_THRESHOLD_MS=1000
SLOW_QUERY_THRESHOLD_MS=500
MEMORY_USAGE_THRESHOLD_MB=512

# APM Configuration (Optional)
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=Factory ERP Server
ELASTIC_APM_SERVICE_NAME=factory-erp-server
ELASTIC_APM_SERVER_URL=http://localhost:8200
ELASTIC_APM_ENVIRONMENT=development

# Metrics & Health Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_ENDPOINT=/metrics
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000
ENABLE_STATUS_MONITOR=true
STATUS_MONITOR_PATH=/status

# Request Tracking
ENABLE_REQUEST_ID=true
REQUEST_ID_HEADER=x-request-id
ENABLE_CORRELATION_ID=true
CORRELATION_ID_HEADER=x-correlation-id

# Error Tracking
ENABLE_ERROR_TRACKING=true
ERROR_STACK_TRACE=true
ERROR_CONTEXT_CAPTURE=true
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Audit Configuration
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_PERSONAL_DATA=true
AUDIT_LOG_SENSITIVE_FIELDS=password,token,secret,key
AUDIT_LOG_COMPRESSION=true

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Factory ERP Server

# Elastic APM
ELASTIC_APM_SERVICE_NAME=factory-erp-server
ELASTIC_APM_SECRET_TOKEN=your-elastic-apm-token
ELASTIC_APM_SERVER_URL=http://localhost:8200

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret-key
WEBHOOK_TIMEOUT=30000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=factory-erp-backups

# Feature Flags
ENABLE_SWAGGER=true
ENABLE_GRAPHQL=false
ENABLE_WEBSOCKETS=true
ENABLE_CRON_JOBS=true
ENABLE_FILE_COMPRESSION=true

# Company Configuration
DEFAULT_COMPANY_CURRENCY=INR
DEFAULT_COMPANY_TIMEZONE=Asia/Kolkata
DEFAULT_COMPANY_LANGUAGE=en

# Notification Configuration
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_WHATSAPP_NOTIFICATIONS=false

# Development Configuration
ENABLE_CORS_DEBUG=true
ENABLE_QUERY_LOGGING=false
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_REQUEST_LOGGING=true

# Production Security
TRUST_PROXY=false
DISABLE_X_POWERED_BY=true
ENABLE_CONTENT_SECURITY_POLICY=true
ENABLE_HSTS=true
ENABLE_NOSNIFF=true
ENABLE_XSS_FILTER=true

# 6hCluJxiCcndni9V